# SpecForge å¾Œç«¯æœå‹™

## å°ˆæ¡ˆæ¦‚è¿°
ç³»çµ±åˆ†æç¶²ç«™çš„å¾Œç«¯ API æœå‹™ï¼Œä½¿ç”¨ Node.js + TypeScript + Express + Prisma + PostgreSQL æŠ€è¡“æ£§ã€‚

## å·²å®ŒæˆåŠŸèƒ½

### âœ… åŸºç¤æ¶æ§‹
- [x] TypeScript é…ç½®
- [x] Express æ‡‰ç”¨ç¨‹å¼æ¶æ§‹
- [x] Prisma ORM è¨­å®š
- [x] ç’°å¢ƒè®Šæ•¸é…ç½®èˆ‡é©—è­‰
- [x] éŒ¯èª¤è™•ç†ä¸­é–“ä»¶
- [x] è³‡æ–™åº«é€£ç·š (PostgreSQL)
- [x] Redis é€£ç·šèˆ‡å¿«å–åŠ©æ‰‹
- [x] å¥åº·æª¢æŸ¥ç«¯é»

### âœ… æ ¸å¿ƒåŠŸèƒ½
- [x] æµæ°´è™Ÿç”Ÿæˆæ©Ÿåˆ¶ (CodeGeneratorService)
  - æ”¯æ´ä½µç™¼å®‰å…¨
  - è‡ªå‹•é‡è©¦æ©Ÿåˆ¶
  - Scope-based è¨ˆæ•¸

### ğŸš§ é–‹ç™¼ä¸­
- [ ] Project CRUD API
- [ ] Module CRUD API
- [ ] UseCase CRUD API
- [ ] Sequence Diagram CRUD API
- [ ] API Contract CRUD API
- [ ] DTO Schema CRUD API
- [ ] Mermaid è§£æåŠŸèƒ½
- [ ] ä¸€è‡´æ€§æª¢æŸ¥åŠŸèƒ½
- [ ] AI ç”ŸæˆåŠŸèƒ½

## å°ˆæ¡ˆçµæ§‹
```
backend/
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma          # è³‡æ–™åº«æ¨¡å‹å®šç¾©
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts        # è³‡æ–™åº«é€£ç·šé…ç½®
â”‚   â”‚   â”œâ”€â”€ env.ts            # ç’°å¢ƒè®Šæ•¸é…ç½®
â”‚   â”‚   â””â”€â”€ redis.ts          # Redis é€£ç·šé…ç½®
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â””â”€â”€ errorHandler.ts   # éŒ¯èª¤è™•ç†ä¸­é–“ä»¶
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ health.routes.ts  # å¥åº·æª¢æŸ¥è·¯ç”±
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ codeGenerator.service.ts  # æµæ°´è™Ÿç”Ÿæˆæœå‹™
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ errors.ts         # éŒ¯èª¤é¡å‹å®šç¾©
â”‚   â”œâ”€â”€ app.ts                # Express æ‡‰ç”¨ç¨‹å¼
â”‚   â””â”€â”€ server.ts             # ä¼ºæœå™¨å•Ÿå‹•æª”æ¡ˆ
â”œâ”€â”€ .env                      # ç’°å¢ƒè®Šæ•¸ï¼ˆä¸è¦æäº¤ï¼‰
â”œâ”€â”€ .env.example              # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”œâ”€â”€ package.json              # å°ˆæ¡ˆé…ç½®
â””â”€â”€ tsconfig.json             # TypeScript é…ç½®
```

## å®‰è£èˆ‡åŸ·è¡Œ

### å‰ç½®éœ€æ±‚
- Node.js >= 18.0.0
- PostgreSQL >= 15
- Redis >= 7.x (å¯é¸)

### å®‰è£æ­¥é©Ÿ

1. å®‰è£ç›¸ä¾å¥—ä»¶
```bash
npm install
```

2. è¨­å®šç’°å¢ƒè®Šæ•¸
```bash
cp .env.example .env
# ç·¨è¼¯ .env æª”æ¡ˆï¼Œè¨­å®šè³‡æ–™åº«é€£ç·šç­‰è³‡è¨Š
```

3. å»ºç«‹è³‡æ–™åº«
```bash
# ç¢ºä¿ PostgreSQL æœå‹™æ­£åœ¨é‹è¡Œ
# å»ºç«‹åç‚º specforge çš„è³‡æ–™åº«
createdb specforge
```

4. åŸ·è¡Œè³‡æ–™åº«é·ç§»
```bash
npm run prisma:generate
npm run prisma:migrate
```

5. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
```bash
npm run dev
```

ä¼ºæœå™¨å°‡åœ¨ http://localhost:3000 å•Ÿå‹•

## API ç«¯é»

### å¥åº·æª¢æŸ¥
- `GET /health` - åŸºæœ¬å¥åº·æª¢æŸ¥
- `GET /health/ready` - å°±ç·’ç‹€æ…‹æª¢æŸ¥
- `GET /health/live` - å­˜æ´»ç‹€æ…‹æª¢æŸ¥
- `GET /health/db` - è³‡æ–™åº«é€£ç·šç‹€æ…‹
- `GET /health/consistency` - ä¸€è‡´æ€§æª¢æŸ¥æœå‹™ç‹€æ…‹
- `GET /health/detailed` - è©³ç´°ç³»çµ±ç‹€æ…‹

### ç‰ˆæœ¬è³‡è¨Š
- `GET /` - API åŸºæœ¬è³‡è¨Š
- `GET /version` - ç³»çµ±ç‰ˆæœ¬è³‡è¨Š

## é–‹ç™¼æŒ‡ä»¤

```bash
# é–‹ç™¼æ¨¡å¼ï¼ˆè‡ªå‹•é‡è¼‰ï¼‰
npm run dev

# å»ºç½®å°ˆæ¡ˆ
npm run build

# ç”Ÿç”¢æ¨¡å¼åŸ·è¡Œ
npm start

# Prisma ç›¸é—œ
npm run prisma:generate  # ç”Ÿæˆ Prisma Client
npm run prisma:migrate   # åŸ·è¡Œè³‡æ–™åº«é·ç§»
npm run prisma:studio    # é–‹å•Ÿ Prisma Studio (è³‡æ–™åº« GUI)
npm run prisma:seed      # åŸ·è¡Œç¨®å­è³‡æ–™

# æ¸¬è©¦èˆ‡æª¢æŸ¥
npm test                 # åŸ·è¡Œæ¸¬è©¦
npm run lint            # ESLint æª¢æŸ¥
npm run typecheck       # TypeScript é¡å‹æª¢æŸ¥
```

## ç’°å¢ƒè®Šæ•¸èªªæ˜

æŸ¥çœ‹ `.env.example` æª”æ¡ˆäº†è§£æ‰€æœ‰å¯é…ç½®çš„ç’°å¢ƒè®Šæ•¸ã€‚

ä¸»è¦è¨­å®šï¼š
- `DATABASE_URL` - PostgreSQL é€£ç·šå­—ä¸²
- `REDIS_URL` - Redis é€£ç·šå­—ä¸²
- `JWT_SECRET` - JWT ç°½åå¯†é‘°
- `PORT` - ä¼ºæœå™¨é€£æ¥åŸ 

## éŒ¯èª¤ä»£ç¢¼

ç³»çµ±ä½¿ç”¨çµæ§‹åŒ–çš„éŒ¯èª¤ä»£ç¢¼ï¼š
- `BIZ_*` - æ¥­å‹™é‚è¼¯éŒ¯èª¤
- `SYS_*` - ç³»çµ±éŒ¯èª¤
- `AUTH_*` - èªè­‰æˆæ¬ŠéŒ¯èª¤
- `VAL_*` - è³‡æ–™é©—è­‰éŒ¯èª¤

## ä¸‹ä¸€æ­¥é–‹ç™¼è¨ˆç•«

1. å®Œæˆæ‰€æœ‰ CRUD API è·¯ç”±
2. å¯¦ä½œ Mermaid è§£ææœå‹™
3. å¯¦ä½œä¸€è‡´æ€§æª¢æŸ¥é‚è¼¯
4. æ•´åˆ AI æœå‹™ï¼ˆOpenAI/Claudeï¼‰
5. å¯¦ä½œåŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½
6. åŠ å…¥å–®å…ƒæ¸¬è©¦å’Œæ•´åˆæ¸¬è©¦
7. å„ªåŒ–æ•ˆèƒ½å’Œå¿«å–ç­–ç•¥
8. éƒ¨ç½²åˆ°é›²ç«¯ç’°å¢ƒ

## æ³¨æ„äº‹é …

- æœ¬å°ˆæ¡ˆä»åœ¨é–‹ç™¼ä¸­ï¼Œè¨±å¤šåŠŸèƒ½å°šæœªå®Œæˆ
- è«‹å‹¿åœ¨ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨ç›®å‰çš„ç‰ˆæœ¬
- ç¢ºä¿ä¸è¦å°‡ `.env` æª”æ¡ˆæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

## æˆæ¬Š

MIT License